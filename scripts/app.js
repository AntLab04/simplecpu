require=function e(t,n,i){function o(a,r){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!r&&c)return c(a,!0);if(l)return l(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,i)}return n[a].exports}for(var l="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t){function n(e,t,n,i){t.forEach(function(t){n>t.x&&n<t.x+30&&i>t.y&&i<t.y+60&&(e[t.wire].value=!e[t.wire].value)})}function i(e,t,n){r(e,t),c(t,n)}function o(e,t,n,i,o,l){l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,1e3,1e3),t.forEach(function(e){f.draw(e,l)}),i.forEach(function(e){x.draw(t,e,l)}),o.forEach(function(e){u.draw(t,e,l)}),e.forEach(function(e){s.draw(e,l)}),n.forEach(function(e){y.draw(t,e,l)}),drawComments(l)}function r(e,t){e.forEach(function(e){switch(e.kind){case s.tNAND:case s.NAND:t[e.out].value=!(t[e.a].value&&t[e.b].value);break;case s.AND:t[e.out].value=t[e.a].value&&t[e.b].value;break;case s.OR:t[e.out].value=t[e.a].value||t[e.b].value;break;case s.XOR:t[e.out].value=t[e.a].value!=t[e.b].value}})}function c(e,t){t.forEach(function(t){a=t.wire1,b=t.wire2,e[b].value=e[a].value})}var s=e("./gate"),f=e("./wire"),u=e("./lever"),x=e("./lamp"),y=e("./join");window.drawComments=function(){},t.exports=function(e,t,a,r,c){return e.forEach(function(e){switch(e.kind){case s.tNAND:case s.NAND:j=t[e.a].connections.length,p={x:e.x,y:e.y-15},t[e.a].connections[j]=p,j=t[e.b].connections.length,p={x:e.x,y:e.y+15},t[e.b].connections[j]=p,j=t[e.out].connections.length,p={x:e.x+43,y:e.y},t[e.out].connections[j]=p;break;case s.AND:j=t[e.a].connections.length,p={x:e.x-15,y:e.y},t[e.a].connections[j]=p,j=t[e.b].connections.length,p={x:e.x+15,y:e.y},t[e.b].connections[j]=p,j=t[e.out].connections.length,p={x:e.x,y:e.y+60},t[e.out].connections[j]=p;break;case s.OR:j=t[e.a].connections.length,p={x:e.x-15,y:e.y+25},t[e.a].connections[j]=p,j=t[e.b].connections.length,p={x:e.x+15,y:e.y+25},t[e.b].connections[j]=p,j=t[e.out].connections.length,p={x:e.x,y:e.y+60},t[e.out].connections[j]=p;break;case s.XOR:j=t[e.a].connections.length,p={x:e.x+10,y:e.y-15},t[e.a].connections[j]=p,j=t[e.b].connections.length,p={x:e.x+10,y:e.y+15},t[e.b].connections[j]=p,j=t[e.out].connections.length,p={x:e.x+60,y:e.y},t[e.out].connections[j]=p}}),c.forEach(function(e){l=e.wire,j=t[l].connections.length,p={x:e.x+15,y:e.y+30},t[l].connections[j]=p}),r.forEach(function(e){l=e.wireIdx,j=t[l].connections.length,p={x:e.x+10,y:e.y},t[l].connections[j]=p}),a.forEach(function(e){l=e.wire1,j=t[l].connections.length,p={x:e.x,y:e.y},t[l].connections[j]=p,l=e.wire2,j=t[l].connections.length,t[l].connections[j]=p}),{checkAt:n.bind(void 0,t,c),update:i.bind(void 0,e,t,a),render:o.bind(void 0,e,t,a,r,c)}}},{"./gate":2,"./join":3,"./lamp":4,"./lever":5,"./wire":6}],2:[function(e,t){function n(e,t,n,i,o,l){this.kind=e,this.x=t,this.y=n,this.r=0,this.s=1,this.a=i,this.b=o,this.out=l}t.exports=n,n.NAND=0,n.AND=1,n.OR=2,n.XOR=3,n.tNAND=4,n.draw=function(e,t){switch(t.strokeStyle="#000000",t.beginPath(),t.setTransform(1,0,0,1,e.x,e.y),e.kind){case n.tNAND:t.strokeStyle="#BBBBBB";case n.NAND:t.rotate(e.r*(Math.PI/180)),t.arc(0,0,30,0-Math.PI/2,Math.PI/2),t.closePath(),t.moveTo(45,0),t.arc(37,0,7,0,2*Math.PI);break;case n.AND:t.lineTo(30,0),t.arc(0,30,30,0,Math.PI),t.lineTo(-30,0),t.closePath();break;case n.OR:t.arc(0,0,30,0,Math.PI),t.moveTo(30,0),t.arc(0,30,30,0,Math.PI),t.lineTo(-30,0);break;case n.XOR:t.arc(0,0,30,0-Math.PI/2,Math.PI/2),t.moveTo(30,-30),t.lineTo(0,-30),t.arc(30,0,30,0-Math.PI/2,Math.PI/2),t.moveTo(30,30),t.lineTo(0,30),t.moveTo(-6,-30),t.arc(-15,0,30,0-Math.PI/2+.3,Math.PI/2-.3)}t.stroke()}},{}],3:[function(e,t){function n(e,t,n,i){this.x=e,this.y=t,this.wire1=n,this.wire2=i}t.exports=n,n.draw=function(e,t,n){n.beginPath(),n.setTransform(1,0,0,1,t.x-2,t.y-2),e[t.wire1].value?(n.fillStyle="#00AA00",n.fillRect(-1,-1,6,6),n.fillStyle="#FFFFFF"):n.fillStyle="#FF0000",n.fillRect(0,0,4,4),n.fillStyle="#000000"}},{}],4:[function(e,t){function n(e,t,n){this.x=e,this.y=t,this.r=0,this.s=1,this.wireIdx=n}t.exports=n,n.draw=function(e,t,n){n.beginPath(),n.setTransform(t.s,0,0,t.s,t.x,t.y-10),e[t.wireIdx].value?(grd=n.createRadialGradient(10,10,0,10,10,20),grd.addColorStop(0,"rgba(100, 255, 100, 1.0)"),grd.addColorStop(1,"rgba(100, 255, 100, 0.0)"),n.fillStyle=grd,n.fillRect(-10,-10,40,40),n.fillStyle="rgba(255, 255, 255, 1.0)",n.fillRect(0,0,20,20),n.fillStyle="#88FF88",n.fillText("on",0,15)):(n.fillStyle="#BBBBBB",n.fillRect(0,0,20,20),n.fillStyle="#888888",n.fillText("off",0,15)),n.stroke(),n.fillStyle="#000000"}},{}],5:[function(e,t){function n(e,t,n){this.x=e,this.y=t,this.r=0,this.s=1,this.wire=n}t.exports=n,n.draw=function(e,t,n){n.beginPath(),n.setTransform(t.s,0,0,t.s,t.x,t.y),n.rotate(t.r*(Math.PI/180)),n.fillStyle="#000000",n.fillRect(0,0,30,60),e[t.wire].value?(n.fillStyle="#AAFFAA",n.fillRect(0,30,30,30),n.fillStyle="#000000",n.fillText("on",4,50)):(n.fillStyle="#FFAAAA",n.fillRect(0,0,30,30),n.fillStyle="#000000",n.fillText("off",4,20))}},{}],6:[function(e,t){function n(){this.value=!1,this.connections=new Array}t.exports=n,n.list=function(e){return Array.apply(null,new Array(e)).map(function(){return new n})},n.draw=function(e,t){e.value?(t.strokeStyle="#00AA00",t.lineWidth=4,t.beginPath(),t.setTransform(1,0,0,1,0,0),t.moveTo(e.connections[0].x,e.connections[0].y),t.lineTo(e.connections[1].x,e.connections[1].y),t.stroke(),t.strokeStyle="#FFFFFF",t.lineWidth=2,t.beginPath(),t.setTransform(1,0,0,1,0,0),t.moveTo(e.connections[0].x,e.connections[0].y),t.lineTo(e.connections[1].x,e.connections[1].y),t.stroke(),t.lineWidth=1):t.strokeStyle="#FF0000",t.beginPath(),t.setTransform(1,0,0,1,0,0),t.moveTo(e.connections[0].x,e.connections[0].y),t.lineTo(e.connections[1].x,e.connections[1].y),t.stroke(),t.strokeStyle="#000000"}},{}],7:[function(e,t){function n(e,t){e.checkAt(t.pageX-o.canvas.offsetLeft,t.pageY-o.canvas.offsetTop),e.update(),e.update(),e.update(),e.update(),e.update(),e.update(),e.render(o)}var i=document.getElementById("gates"),o=i.getContext("2d");i.onselectstart=function(){return!1},o.font="16px Arial",t.exports=function(e){i.addEventListener("click",n.bind(void 0,e),!1)},t.exports.context=o},{}],NAND:[function(e){function t(){var e=n();c(e),e.update(),e.update(),e.update(),e.update(),e.update(),e.render(c.context)}function n(){var e=l.list(3),t=[new a(8,10,0),new a(8,95,1)],n=[new o(o.NAND,100,80,0,1,2)],c=[new r(200,80,2)];return i(n,e,[],c,t)}var i=e("./gates/composite"),o=e("./gates/gate"),l=e("./gates/wire"),a=e("./gates/lever"),r=e("./gates/lamp"),c=e("./util/common-setup");t()},{"./gates/composite":1,"./gates/gate":2,"./gates/lamp":4,"./gates/lever":5,"./gates/wire":6,"./util/common-setup":7}],adder:[function(e){function t(){var e=n();s(e),e.update(),e.update(),e.update(),e.update(),e.update(),e.render(s.context)}function n(){var e=l.list(12),t=[new a(8,40,0),new a(8,110,1),new a(220,8,5)],n=[new o(o.XOR,120,100,0,1,4),new o(o.XOR,280,115,4,7,8),new o(o.AND,80,200,3,2,9),new o(o.AND,220,200,6,5,10),new o(o.OR,150,350,9,10,11)],s=[new r(380,115,8),new r(140,450,11)],f=[new c(95,80,0,2),new c(65,130,1,3),new c(235,130,5,7),new c(205,100,4,6)];return i(n,e,f,s,t)}var i=e("./gates/composite"),o=e("./gates/gate"),l=e("./gates/wire"),a=e("./gates/lever"),r=e("./gates/lamp"),c=e("./gates/join"),s=e("./util/common-setup");window.drawComments=function(e){e.setTransform(1,0,0,1,0,0),e.fillStyle="#666666",e.fillText("1st bit",0,35),e.fillText("2nd bit",0,185),e.fillText("carry in",255,20),e.fillText("carry out",165,452),e.fillText("value",380,100)},t()},{"./gates/composite":1,"./gates/gate":2,"./gates/join":3,"./gates/lamp":4,"./gates/lever":5,"./gates/wire":6,"./util/common-setup":7}],binary:[function(){function e(){l.clearRect(0,0,1e3,800),l.font="48px Arial",l.fillStyle="#000000",l.fillText(""+a,245,50),n(a),l.fillStyle="#CCCCCC",l.font="16px Arial",t()}function t(){l.fillRect(222,110,20,2),l.fillText("bit",219,117),l.fillRect(145,130,98,2),l.fillText("nibble",141,137),l.fillRect(31,150,212,2),l.fillText("byte",30,157)}function n(e){var t=26;i(e,128,245-(7*t+8),95)?e-=128:e=e,i(e,64,245-(6*t+8),95)?e-=64:e=e,i(e,32,245-(5*t+8),95)?e-=32:e=e,i(e,16,245-(4*t+8),95)?e-=16:e=e,i(e,8,245-3*t,95)?e-=8:e=e,i(e,4,245-2*t,95)?e-=4:e=e,i(e,2,245-1*t,95)?e-=2:e=e,i(e,1,245,95)}function i(e,t,n,i){return e-t>=0?(l.fillStyle="#44DD44",l.fillText("1",n,i),!0):(l.fillStyle="#FF5555",l.fillText("0",n,i),!1)}var o=document.getElementById("binaryInc");o.onselectstart=function(){return!1};var l=o.getContext("2d");l.textAlign="right";var a=0;o.addEventListener("click",function(t){t.preventDefault(),a>254?a=0:a+=1,e()},!1),e()},{}],cpu:[function(){function e(e,i){this.x=e,this.y=i,this.etf=new n(e+50,i+90,d[0]),this.etf.type=1,this.lever=new t(e+10,i+60,!1)}function t(e,t){this.x=e,this.y=t,this.value=!1}function n(e,t,n){this.x=e,this.y=t,this.type=0,this.value=n}function o(e,t){row=Math.floor(t/30),value=128>>Math.floor(e/T.measureText("0").width),d[row+g]=d[row+g]^value}function l(e){for(v=e,str="",j=128;j>=1;j/=2)v>=j?(str+="1",v-=j):str+="0";return str}function a(){if(ip=d[0],cpu.lever.value){switch(d[ip]){case 1:d[d[ip+2]]+=d[d[ip+1]],d[d[ip+2]]>255&&(d[d[ip+2]]=0);break;case 2:d[d[ip+2]]-=d[d[ip+1]],d[d[ip+2]]<0&&(d[d[ip+2]]=0);break;case 3:d[d[ip+2]]=d[d[ip+1]]}d[0]+=3,d[0]>255&&(d[0]=d[0]-255)}r()}function r(){for(k=0;6>k;k++)h[k].value=d[g+k],h[k].type=g+k==d[0]?2:0;h[1].value=d[g+1],h[2].value=d[g+2],h[3].value=d[g+3],h[4].value=d[g+4],h[5].value=d[g+5],cpu.etf.value=d[0],w()}function c(e){T.font="24px Arial",wid=T.measureText("00000000").width+8,T.setTransform(1,0,0,1,0,0),T.fillStyle="#FFFFFF",2==e.type&&(T.fillStyle="#AAAAFF"),T.fillRect(e.x,e.y,wid,30),T.strokeStyle="#999999",T.strokeRect(e.x,e.y,wid,30),T.fillStyle="#000000",1==e.type&&(T.fillStyle="#0000FF"),T.fillText(l(e.value),e.x+4,e.y+24)}function s(e){T.setTransform(1,0,0,1,0,0),T.fillStyle="#AAAAAA",T.font="16px Arial",T.fillText(l(e),22,80),T.fillText(l(e+1),22,110),T.fillText(l(e+2),22,140),T.fillText(l(e+3),22,170),T.fillText(l(e+4),22,200),T.fillText(l(e+5),22,230)}function f(e){T.beginPath(),T.font="16px Arial",T.setTransform(1,0,0,1,e.x,e.y),T.fillStyle="#000000",T.fillRect(0,0,30,60),e.value?(T.fillStyle="#AAFFAA",T.fillRect(0,30,30,30),T.fillStyle="#000000",T.fillText("on",4,50)):(T.fillStyle="#FFAAAA",T.fillRect(0,0,30,30),T.fillStyle="#000000",T.fillText("off",4,20))}function u(e){T.fillStyle="#DDDDDD",T.fillRect(e.x,e.y,190,190),T.strokeStyle="#999999",T.strokeRect(e.x,e.y,190,190),T.font="14px Arial",T.fillStyle="#999999",T.fillText("Instruction Pointer:",e.x+45,e.y+85),T.font="16px Arial",T.fillStyle="#999999",T.fillText("CPU",e.x,e.y-3),f(e.lever),c(e.etf)}function p(){for(T.fillStyle="#DDDDDD",T.fillRect(20,30,220,220),T.strokeStyle="#999999",T.strokeRect(20,30,220,220),i=0;i<h.length;i++)c(h[i]);s(g),T.font="16px Arial",T.fillStyle="#999999",T.fillText("Memory",20,27),T.font="14px Arial",T.fillText("address:",23,55),T.fillText("value:",105,55)}function w(){T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,1e3,1e3),u(cpu),p(),T.fillStyle="#999999",T.font="16px Arial",T.fillText("Bus",243,118),T.fillStyle="#DDDDDD",T.fillRect(240,120,90,10),T.fillStyle="#AAAAFF",T.fillRect(435,155,T.measureText("Reset   ").width,20),T.fillStyle="#000000",T.fillText("Reset",440,170)}var h=new Array,d=new Array,g=1,m=document.getElementById("cpu");m.onselectstart=function(){return!1};var T=m.getContext("2d");T.font="16px Arial",setInterval(a,1e3),m.addEventListener("click",function(e){T.font="24px Arial",x=e.pageX-T.canvas.offsetLeft,y=e.pageY-T.canvas.offsetTop,x>105&&x<105+T.measureText("00000000").width&&y>62&&270>y&&(cpu.lever.value||o(x-105,y-62)),x>340&&370>x&&y>90&&150>y&&(cpu.lever.value=!cpu.lever.value),x>435&&x<435+T.measureText("reset  ").width&&y>150&&175>y&&(d[0]=1),r()},!1);var A=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";for(m.addEventListener(A,function(e){return e.wheelDelta&&(e.wheelDelta>0?g>1&&g--:250>g&&g++),e.detail&&(e.detail<0?g>1&&g--:250>g&&g++),r(),!1},!1),i=0;256>i;i++)d[i]=0;d[0]=1,cpu=new e(330,30),h[0]=new n(105,60,d[i]),h[1]=new n(105,90,d[i]),h[2]=new n(105,120,d[i]),h[3]=new n(105,150,d[i]),h[4]=new n(105,180,d[i]),h[5]=new n(105,210,d[i]),r()},{}],memory:[function(e){function t(){var e=n();s(e),e.update(),e.update(),e.update(),e.update(),e.update(),e.render(s.context)}function n(){var e=l.list(13);e[1].value=!0;var t=[new c(55,175,1,2),new c(100,145,4,5),new c(173,50,3,4),new c(210,80,9,8),new c(210,130,10,7),new c(305,65,11,10),new c(305,145,12,9)],n=[new o(o.NAND,120,50,0,2,3),new o(o.NAND,120,160,5,1,6),new o(o.NAND,240,65,3,8,11),new o(o.NAND,240,145,7,6,12)],s=[new a(8,5,0),new a(8,145,1)],f=[new r(345,65,11)];return i(n,e,t,f,s)}var i=e("./gates/composite"),o=e("./gates/gate"),l=e("./gates/wire"),a=e("./gates/lever"),r=e("./gates/lamp"),c=e("./gates/join"),s=e("./util/common-setup");t()},{"./gates/composite":1,"./gates/gate":2,"./gates/join":3,"./gates/lamp":4,"./gates/lever":5,"./gates/wire":6,"./util/common-setup":7}],"more-gates":[function(e){function t(){var e=n();s(e),e.update(),e.update(),e.update(),e.update(),e.update(),e.render(s.context)}function n(){var e=l.list(23),t=[new a(8,8,0),new a(8,70,1),new a(8,165,5),new a(8,235,6),new a(8,335,14),new a(8,465,15)],n=[new r(250,70,4),new r(300,230,13),new r(400,430,22)],s=[new c(136,69,2,3),new c(120,195,7,8),new c(120,265,9,10),new c(145,365,14,16),new c(145,495,15,17),new c(215,430,18,19),new c(120,195,5,7),new c(120,265,6,9)],f=[new o(o.tNAND,90,70,0,1,2),new o(o.tNAND,160,70,2,3,4),new o(o.tNAND,140,195,7,8,11),new o(o.tNAND,140,265,9,10,12),new o(o.tNAND,210,230,11,12,13),new o(o.tNAND,170,430,16,17,18),new o(o.tNAND,240,380,14,18,20),new o(o.tNAND,240,480,19,15,21),new o(o.tNAND,310,430,20,21,22)];return i(f,e,s,n,t)}var i=e("./gates/composite"),o=e("./gates/gate"),l=e("./gates/wire"),a=e("./gates/lever"),r=e("./gates/lamp"),c=e("./gates/join"),s=e("./util/common-setup");window.drawComments=function(e){e.setTransform(1,0,0,1,0,0),e.fillStyle="#000000",e.strokeStyle="#000000",e.fillText('"and"',200,25),e.setTransform(1,0,0,1,75,10),e.lineTo(0,0),e.arc(80,60,60,0-Math.PI/2,Math.PI/2),e.lineTo(0,120),e.closePath(),e.stroke(),e.setTransform(1,0,0,1,0,0),e.fillText('"or"',250,175),e.beginPath(),e.setTransform(1,0,0,1,120,160),e.lineTo(0,0),e.arc(80,70,70,0-Math.PI/2,Math.PI/2),e.lineTo(-70,140),e.moveTo(0,0),e.arc(-70,70,70,0-Math.PI/2,Math.PI/2),e.stroke(),e.setTransform(1,0,0,1,0,0),e.fillText('"xor"',340,330),e.beginPath(),e.setTransform(1,0,0,1,150,360),e.lineTo(0,-20),e.arc(130,70,90,0-Math.PI/2,Math.PI/2),e.lineTo(-90,160),e.moveTo(0,-20),e.arc(-90,70,90,0-Math.PI/2,Math.PI/2),e.moveTo(-86,-13),e.arc(-120,70,90,0-Math.PI/2+.35,Math.PI/2-.35),e.stroke(),e.setTransform(1,0,0,1,0,0)},t()},{"./gates/composite":1,"./gates/gate":2,"./gates/join":3,"./gates/lamp":4,"./gates/lever":5,"./gates/wire":6,"./util/common-setup":7}]},{},[]);